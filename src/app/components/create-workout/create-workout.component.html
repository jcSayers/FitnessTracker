<div class="create-workout-container">
  <div class="header">
    <button mat-icon-button (click)="onCancel()" class="back-button">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1>Create Workout</h1>
  </div>

  <form [formGroup]="workoutForm" (ngSubmit)="onNext()" class="workout-form">
    <mat-card class="form-section">
      <mat-card-header>
        <mat-card-title class="section-title">
          <mat-icon>info</mat-icon>
          Workout Information
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <!-- Workout Name -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Workout Name</mat-label>
          <input
            matInput
            formControlName="name"
            placeholder="e.g., Upper Body Strength"
            autocomplete="off">
          @if (isFieldInvalid('name')) {
            <mat-error>{{ getFieldError('name') }}</mat-error>
          }
        </mat-form-field>

        <!-- Description -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Description (Optional)</mat-label>
          <textarea
            matInput
            formControlName="description"
            rows="3"
            placeholder="Describe your workout..."
            autocomplete="off">
          </textarea>
        </mat-form-field>

        <!-- Category and Difficulty -->
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Category</mat-label>
            <mat-select formControlName="category">
              @for (category of workoutCategories; track category) {
                <mat-option [value]="category">
                  {{ category | titlecase }}
                </mat-option>
              }
            </mat-select>
            @if (isFieldInvalid('category')) {
              <mat-error>{{ getFieldError('category') }}</mat-error>
            }
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Difficulty</mat-label>
            <mat-select formControlName="difficulty">
              @for (difficulty of difficultyLevels; track difficulty) {
                <mat-option [value]="difficulty">
                  {{ difficulty | titlecase }}
                </mat-option>
              }
            </mat-select>
            @if (isFieldInvalid('difficulty')) {
              <mat-error>{{ getFieldError('difficulty') }}</mat-error>
            }
          </mat-form-field>
        </div>

        <!-- Estimated Duration -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Estimated Duration</mat-label>
          <input
            matInput
            type="number"
            formControlName="estimatedDuration"
            min="5"
            max="300">
          <span matTextSuffix>minutes</span>
          @if (isFieldInvalid('estimatedDuration')) {
            <mat-error>{{ getFieldError('estimatedDuration') }}</mat-error>
          }
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <!-- Form Actions -->
    <div class="form-actions">
      <button
        type="button"
        mat-button
        (click)="onCancel()">
        Cancel
      </button>
      <button
        type="submit"
        mat-raised-button
        color="primary">
        <span>Next: Add Exercises</span>
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>
  </form>
</div>
