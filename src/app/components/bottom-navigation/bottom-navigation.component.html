@if (shouldShowNavigation()) {
  <div class="bottom-navigation">
    <mat-tab-group 
      [selectedIndex]="activeIndex()"
      (selectedIndexChange)="onTabChanged($event)"
      class="nav-tabs">
      @for (item of navItems; track item.route; let i = $index) {
        <mat-tab>
          <ng-template mat-tab-label>
            <div class="nav-item">
              @if (item.badge) {
                <mat-icon [matBadge]="item.badge" matBadgeColor="accent" class="nav-icon">
                  {{ item.icon }}
                </mat-icon>
              } @else {
                <mat-icon class="nav-icon">{{ item.icon }}</mat-icon>
              }
              <span class="nav-label">{{ item.label }}</span>
            </div>
          </ng-template>
        </mat-tab>
      }
    </mat-tab-group>
  </div>
}

